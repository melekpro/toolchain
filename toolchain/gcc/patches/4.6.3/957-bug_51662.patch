Temporary objects gets garbage collected in cc1plus

 http://gcc.gnu.org/bugzilla/show_bug.cgi?id=51662

--- gcc-4_6-branch/gcc/cp/ChangeLog	2012/11/29 21:40:16	193968
+++ gcc-4_6-branch/gcc/cp/ChangeLog	2012/11/29 21:58:04	193969
@@ -1,3 +1,9 @@
+2012-11-29  Jason Merrill  <jason@redhat.com>
+
+	PR c++/51662
+	* method.c (process_subob_fn): Increment function_depth around call to
+	instantiate_decl.
+
 2012-10-26  Paolo Carlini  <paolo.carlini@oracle.com>
 
 	PR c++/54984
--- gcc-4_6-branch/gcc/cp/method.c	2012/11/29 21:40:16	193968
+++ gcc-4_6-branch/gcc/cp/method.c	2012/11/29 21:58:04	193969
@@ -952,7 +952,11 @@
 	 really constexpr.  */
       if (DECL_DECLARED_CONSTEXPR_P (fn) && DECL_TEMPLATE_INSTANTIATION (fn)
 	  && !DECL_TEMPLATE_INSTANTIATED (fn))
-	instantiate_decl (fn, /*defer_ok*/false, /*expl_class*/false);
+	{
+	  ++function_depth;
+	  instantiate_decl (fn, /*defer_ok*/false, /*expl_class*/false);
+	  --function_depth;
+	}
       if (!DECL_DECLARED_CONSTEXPR_P (fn))
 	*constexpr_p = false;
     }
